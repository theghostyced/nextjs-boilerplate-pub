@use '2-tools/units' as *;

//
// A small collection of utility classes and mixins to consistently style
// progress dots across modules.
//

// ---
// MIXINS
// Typically used to apply styles to elements generated by 3rd-party libraries
// ---

//
// Element base styles
//
// @example
// .carousel__progressDots {
//     @include progress-dots(
//         rem(4),
//         rem(8),
//         var(--color-text),
//         rem(1)
//     );
// }
//
// @param {<length>} $dot-size
// @param {<color>} [$dot-color=currentcolor] - optional default color applied to the dot
// @param {<length>} [$dot-bdrs=50%] - optional border radius
// @param {<length>} [$dot-gap=$dot-size]

@mixin progress-dots($dot-size, $dot-color: currentcolor, $dot-bdrs: 50%, $dot-gap: $dot-size) {
    --dot-bdrs: #{$dot-bdrs};
    --dot-color: #{$dot-color};
    --dot-gap: #{$dot-gap};
    --dot-size: #{$dot-size};

    column-gap: var(--dot-gap);
    display: none;

    .js & {
        display: flex; // only reveal element if JavaScript is enabled
    }
}

//
// Styles for individual dots
//
// @example
// .carousel__progressDots-dot {
//     @include progress-dot;
// }
//
@mixin progress-dot() {
    background-color: var(--dot-color);
    border-radius: var(--dot-bdrs);
    height: var(--dot-size);
    width: var(--dot-size);
}




// ---
// UTILITY CLASSES
// For use in internal modules where class names can be applied directly
//
// @example
// <div role="group" class="progress-dots">
//   <button class="progress-dots__dot">
//     <span class="is-visually-hidden">Show slide 1, "Lorem Ipsum"</span>
//   </button>
//   <button class="progress-dots__dot">
//     <span class="is-visually-hidden">Show slide 2, "Dolor Sit"</span>
//   </button>
// </div>
// ---
.progress-dots {
    $dot-bdrs: rem(1);
    $dot-color: var(--color-text);
    $dot-gap: rem(4);
    $dot-size: rem(4);

    @include progress-dots($dot-size, $dot-color, $dot-bdrs, $dot-gap);
}

.progress-dots__dot {
    opacity: 0.2;
    @include progress-dot;
}

.progress-dots__dot:where(.is-selected, [aria-current='true']) {
    opacity: 1;
}
